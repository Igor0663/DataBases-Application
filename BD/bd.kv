<MyScreenManager>
	LoginScreen:
	UserScreen:
	AdminScreen:
	AccountSettingsScreen:
	ChangeLoginScreen:
	ChangePwdScreen:
	ChangeNameScreen:
	ChangeSnameScreen:
	ChangeDepScreen:
	ChangeRigScreen:
	ChooseUserScreen:
	AddUserScreen:
	DeleteUserScreen:
</MyScreenManager>

<LoginScreen>
	name: "ekran logowania"
	log: log
	pwd: pwd
	id: parent

	BoxLayout:
		orientation: "vertical"
		spacing: 10

		GridLayout:
			cols: 2
			rows: 2
			row_force_default: False
			row_default_height: 40

			Label:
				text: "login"
			TextInput:
				id: log
				multiline: False
				text: ""
			Label:
				text: "haslo"
			TextInput:
				id: pwd
				multiline: False
				password: True
				text: ""
		Button:
			text: "Zaloguj sie"
			on_press: parent.LoginTry()
</LoginScreen>

<UserScreen>
	name: "opcje czlonka kola"

	lendtakebtn: lendtakebtn
	settingbtn: settingbtn
	givebackbtn: givebackbtn
	searchbtn: searchbtn

	id: parent

	GridLayout:
		cols: 2
		rows: 2 
		row_force_default: False
		row_default_height: 80

		Button:
			id: lendtakebtn
			text: "Wypozycz/pobierz sprzet"
		Button:
			id: settingbtn
			text: "Ustawienia konta"
			on_press: parent.GetToSettings()
		Button:
			id: givebackbtn
			text: "Oddaj sprzet"
		Button:
			id: searchbtn
			text: "Przegladaj sprzet"
</UserScreen>

<AdminScreen>
	name: "opcje administratora"
	
	lendtakebtn: lendtakebtn
	settingbtn: settingbtn
	givebackbtn: givebackbtn
	
	usermgbtn: usermgbtn
	gearmgbtn: gearmgbtn
	searchbtn: searchbtn
	id: parent

	BoxLayout:
		orientation: "vertical"
        spacing: 0

		GridLayout:
			cols: 2
			rows: 3
			row_force_default: False
			row_default_height: 60
			Button:
				id: lendtakebtn
				text: "Wypozycz/pobierz sprzet"
			Button:
				id: settingbtn
				text: "Ustawienia konta"
				on_press: parent.GetToSettings()
			Button:
				id: givebackbtn
				text: "Oddaj sprzet"
			Button:
				id: searchbtn
				text: "Przegladaj sprzet"
			Button:
				id: usermgbtn
				text: "Zarzadzaj sprzetem"
			Button:
				id: gearmgbtn
				text: "Zarzadzaj uzytkownikami"
				on_press: parent.GetToMgUsers()
		
		Button:
			text: "Przegladaj zamowienia"
			size_hint: (1, 0.25)
</AdminScreen>
	
<AccountSettingsScreen>
	name: "ustawienia konta"

	logcont: logcont
    pwdcont: pwdcont
    namecont: namecont
    snamecont: snamecont
    depcont: depcont
    rigcont: rigcont

    logbtn: logbtn
    pwdbtn: pwdbtn
    namebtn: namebtn
    snamebtn: snamebtn
    depbtn: depbtn
    rigbtn: rigbtn

	bckbtn: bckbtn

	id: parent

	FloatLayout:
	
		GridLayout:
			cols: 3
			size_hint: 1, 0.8
			pos_hint: {"top": 1}
			Label:
				size_hint: 0.33, 0.125
				text: "Login: "
			Label:
				id: logcont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: logbtn
				size_hint: 0.33, 0.125
				text: "Zmien login"
				on_press: parent.ChangeLogin()
			Label:
				size_hint: 0.33, 0.125
				text: "Haslo: "
			Label:
				id: pwdcont
				size_hint: 0.33, 0.125
				text: "********"
			Button:
				id: pwdbtn
				size_hint: 0.33, 0.125
				text: "Zmien haslo"
				on_press: parent.ChangePwd()
			Label:
				size_hint: 0.33, 0.125
				text: "Imie: "
			Label:
				id: namecont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: namebtn
				size_hint: 0.33, 0.125
				text: "Zmien imie"
				on_press: parent.ChangeName()
			Label:
				size_hint: 0.33, 0.125
				text: "Nazwisko: "
			Label:
				id: snamecont
				size_hint: 0.33, 0.125
				text: "None"
			Button:	
				id: snamebtn
				size_hint: 0.33, 0.125
				text: "Zmien nazwisko"
				on_press: parent.ChangeSname()
			Label:
				size_hint: 0.33, 0.125
				text: "Dzial: "
			Label:
				id: depcont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: depbtn
				size_hint: 0.33, 0.125
				text: "Zmien dzial"
				on_press: parent.ChangeDep()
			Label:
				size_hint: 0.33, 0.125
				text: "Uprawnienia: "
			Label:
				id: rigcont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: rigbtn
				size_hint: 0.33, 0.125
				text: "Zmien uprawnienia"
				on_press: parent.ChangeRig()
		Button:
			id: bckbtn
			size_hint: 0.3, 0.2
			pos_hint: {"x": 0.35}
			text: "Powrot"
			on_press: parent.GetBack()
</AccountSettingsScreen>

<ChangeLoginScreen>
	name: "zmiana loginu"

	newlog: newlog
	newlog2: newlog2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent

	GridLayout:
		rows: 3
		cols: 2
		Label: 
			text: "Nowy login: "
		TextInput:
			id: newlog
			text: ""
			multiline: False
		Label:
			text: "Powtorz: "
		TextInput:
			id: newlog2
			text: ""
			multiline: False
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button: 
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewLogin()
</ChangeLoginScreen>

<ChangePwdScreen>
	name: "zmiana hasla"
	oldpwd: oldpwd
	newpwd: newpwd
	newpwd2: newpwd2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent

	GridLayout:
		rows: 4
		cols: 2
		Label:
			text: "Stare haslo:"
		TextInput:
			id: oldpwd
			text: ""
			multiline: False
			password: True
		Label: 
			text: "Nowe haslo: "
		TextInput:
			id: newpwd
			text: ""
			multiline: False
			password: True
		Label:
			text: "Powtorz: "
		TextInput:
			id: newpwd2
			text: ""
			multiline: False
			password: True
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button: 
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewPwd()
</ChangePwdScreen>
	
<ChangeNameScreen>
	name: "zmiana imienia"
	newname: newname
	newname2: newname2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent
	
	GridLayout:
		cols: 2
		rows: 3
		
		Label:
			text: "Nowe imie"
		TextInput:
			id: newname
			text: ""
			multiline: False
		Label:
			text: "Powtorz"
		TextInput:
			id: newname2
			text: ""
			multiline: False
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewName()
		
</ChangeNameScreen>

<ChangeSnameScreen>
	name: "zmiana nazwiska"
	newsname: newsname
	newsname2: newsname2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent

	GridLayout:
		cols: 2
		rows: 3

		Label:
			text: "Nowe nazwisko"
		TextInput:
			id: newsname
			text: ""
			multiline: False
		Label:
			text: "Powtorz"
		TextInput:
			id: newsname2
			text: ""
			multiline: False
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewSname()
</ChangeSnameScreen>

<ChangeDepScreen>
	name: "zmiana dzialu"
	bckbtn: bckbtn
	depsel: depsel
	id: parent

	
	GridLayout:
		cols: 2
		rows: 2
		Label:
			text: "Nowy dzial: "
		Spinner:
			id: depsel
			text: "Wybierz dzial"
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewDep()
</ChangeDepScreen>

<ChangeRigScreen>
	name: "zmiana uprawnien"
	bckbtn: bckbtn
	rigsel: rigsel
	id: parent

	
	GridLayout:
		cols: 2
		rows: 2
		Label:
			text: "Nowe uprawnienia: "
		Spinner:
			id: rigsel
			text: "Wybierz uprawnienia"
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewRig()
</ChangeRigScreen>

<ChooseUserScreen>
	name: "wybierz uzytkownika"
	usrlst: usrlst
	bckbtn: bckbtn
	delbtn: delbtn
	modbtn: modbtn
	addbtn: addbtn
	id: parent

	BoxLayout:
		orientation: 'vertical'
		spacing:0
		
		UserList:
			id: usrlst
		
		GridLayout:
			cols: 2
			rows: 2
			Button:
				id: delbtn
				text: "Usun uzytkownika"
				on_press: parent.GetToDel()
			Button:
				id: modbtn
				text: "Modyfikuj dane"
				on_press: parent.GetToMod()
			Button:
				id: addbtn
				text: "Dodaj uzytkownika"
				on_press: parent.GetToAdd()
			Button:
				id: bckbtn
				text: "Powrot"
				on_press: parent.GetBack()
	

</ChooseUserScreen>


<SelectableLabel>
	canvas.before:
		Color:
			rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
		Rectangle:
			pos: self.pos
			size: self.size
</SelectableLabel>

<UserList>
	viewclass:'SelectableLabel'
	SelectableRecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: False
        touch_multiselect: False
</UserList>

<AddUserScreen>
	name: "dodaj uzytkownika"
	confbtn: confbtn
	bckbtn: bckbtn
	newname: newname
	newsname: newsname
	newlogin: newlogin
	newpwd: newpwd
	newpwd2: newpwd2
	depsel: depsel
	rigsel: rigsel
	
	id: parent

	BoxLayout:
		orientation: "vertical"
		spacing: 10

		GridLayout:
			cols: 2
			rows: 8

			Label:
				text: "Imie"
			TextInput:
				id: newname
				multiline: False
				text: ""
				
			Label:
				text: "Nazwisko"
			TextInput:
				id: newsname
				multiline: False
				text: ""
				
			Label:
				text: "Login"
			TextInput:
				id: newlogin
				multiline: False
				text: ""	
				
			Label:
				text: "Haslo"
			TextInput:
				id: newpwd
				multiline: False
				password: True
				text: ""
				
			Label:
				text: "Powtorz haslo"
			TextInput:
				id: newpwd2
				multiline: False
				password: True
				text: ""	
			
			Label:
				text: "Dzial"
			Spinner:
				id: depsel
				text: "wybierz dzial"
				
			Label:
				text: "Uprawnienia"
			Spinner:
				id: rigsel
				text: "wybierz uprawnienia"	
				
			Button:
				text: "Zatwierdz"
				id: confbtn
			
			Button:
				text: "Powrot"
				id: bckbtn
				on_press: parent.GetBack()


</AddUserScreen>


<DeleteUserScreen>
	name: "usun uzytkownika"
	nobtn: nobtn
	yesbtn: yesbtn
	usrcont: usrcont
	id: parent

	GridLayout:
		cols: 2
		rows: 2
		Label:
			text: "Usuwasz uzytkownika:"
		Label:
			id: usrcont	
			text: "None"
		Button:
			id: yesbtn
			text: "Zatwierdz"
			size_hint: (1, 0.5)
			on_press: parent.SubmitDeletion()
		Button:
			id: nobtn
			text: "Anuluj"
			size_hint: (1, 0.5)
			on_press: parent.GetBack()
	
</DeleteUserScreen>

