<MyScreenManager>
	LoginScreen:
	UserScreen:
	AdminScreen:
	AccountSettingsScreen:
	ChangeLoginScreen:
	ChangePwdScreen:
	ChangeNameScreen:
	ChangeSnameScreen:
	ChangeDepScreen:
	ChangeRigScreen:
	ChooseUserScreen:
	AddUserScreen:
	DeleteUserScreen:
	ManageEquipScreen:
	AddUsableEqpScreen:
	AddUnUsableEqpScreen:
	AddUsableEqpKindScreen:
	AddUnUsableEqpKindScreen:
	AdvancedEqpScreen:
	DeleteUsKindScreen:
	ConfirmDeleteUsKindScreen:
</MyScreenManager>

<LoginScreen>
	name: "ekran logowania"
	log: log
	pwd: pwd
	id: parent

	BoxLayout:
		orientation: "vertical"
		spacing: 10

		GridLayout:
			cols: 2
			rows: 2
			row_force_default: False
			row_default_height: 40

			Label:
				text: "login"
			TextInput:
				id: log
				multiline: False
				text: ""
			Label:
				text: "haslo"
			TextInput:
				id: pwd
				multiline: False
				password: True
				text: ""
		Button:
			text: "Zaloguj sie"
			on_press: parent.LoginTry()
</LoginScreen>

<UserScreen>
	name: "opcje czlonka kola"

	lendtakebtn: lendtakebtn
	settingbtn: settingbtn
	givebackbtn: givebackbtn
	searchbtn: searchbtn

	id: parent

	GridLayout:
		cols: 2
		rows: 2 
		row_force_default: False
		row_default_height: 80

		Button:
			id: lendtakebtn
			text: "Wypozycz/pobierz sprzet"
		Button:
			id: settingbtn
			text: "Ustawienia konta"
			on_press: parent.GetToSettings()
		Button:
			id: givebackbtn
			text: "Oddaj sprzet"
		Button:
			id: searchbtn
			text: "Przegladaj sprzet"
</UserScreen>

<AdminScreen>
	name: "opcje administratora"
	
	lendtakebtn: lendtakebtn
	settingbtn: settingbtn
	givebackbtn: givebackbtn
	
	usermgbtn: usermgbtn
	gearmgbtn: gearmgbtn
	searchbtn: searchbtn
	id: parent

	BoxLayout:
		orientation: "vertical"
        spacing: 0

		GridLayout:
			cols: 2
			rows: 3
			row_force_default: False
			row_default_height: 60
			Button:
				id: lendtakebtn
				text: "Wypozycz/pobierz sprzet"
			Button:
				id: settingbtn
				text: "Ustawienia konta"
				on_press: parent.GetToSettings()
			Button:
				id: givebackbtn
				text: "Oddaj sprzet"
			Button:
				id: searchbtn
				text: "Przegladaj sprzet"
			Button:
				id: usermgbtn
				text: "Zarzadzaj sprzetem"
				on_press: parent.GetToMgEqp()
			Button:
				id: gearmgbtn
				text: "Zarzadzaj uzytkownikami"
				on_press: parent.GetToMgUsers()
		
		Button:
			text: "Przegladaj zamowienia"
			size_hint: (1, 0.25)
</AdminScreen>
	
<AccountSettingsScreen>
	name: "ustawienia konta"

	logcont: logcont
    pwdcont: pwdcont
    namecont: namecont
    snamecont: snamecont
    depcont: depcont
    rigcont: rigcont

    logbtn: logbtn
    pwdbtn: pwdbtn
    namebtn: namebtn
    snamebtn: snamebtn
    depbtn: depbtn
    rigbtn: rigbtn

	bckbtn: bckbtn

	id: parent

	FloatLayout:
	
		GridLayout:
			cols: 3
			size_hint: 1, 0.8
			pos_hint: {"top": 1}
			Label:
				size_hint: 0.33, 0.125
				text: "Login: "
			Label:
				id: logcont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: logbtn
				size_hint: 0.33, 0.125
				text: "Zmien login"
				on_press: parent.ChangeLogin()
			Label:
				size_hint: 0.33, 0.125
				text: "Haslo: "
			Label:
				id: pwdcont
				size_hint: 0.33, 0.125
				text: "********"
			Button:
				id: pwdbtn
				size_hint: 0.33, 0.125
				text: "Zmien haslo"
				on_press: parent.ChangePwd()
			Label:
				size_hint: 0.33, 0.125
				text: "Imie: "
			Label:
				id: namecont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: namebtn
				size_hint: 0.33, 0.125
				text: "Zmien imie"
				on_press: parent.ChangeName()
			Label:
				size_hint: 0.33, 0.125
				text: "Nazwisko: "
			Label:
				id: snamecont
				size_hint: 0.33, 0.125
				text: "None"
			Button:	
				id: snamebtn
				size_hint: 0.33, 0.125
				text: "Zmien nazwisko"
				on_press: parent.ChangeSname()
			Label:
				size_hint: 0.33, 0.125
				text: "Dzial: "
			Label:
				id: depcont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: depbtn
				size_hint: 0.33, 0.125
				text: "Zmien dzial"
				on_press: parent.ChangeDep()
			Label:
				size_hint: 0.33, 0.125
				text: "Uprawnienia: "
			Label:
				id: rigcont
				size_hint: 0.33, 0.125
				text: "None"
			Button:
				id: rigbtn
				size_hint: 0.33, 0.125
				text: "Zmien uprawnienia"
				on_press: parent.ChangeRig()
		Button:
			id: bckbtn
			size_hint: 0.3, 0.2
			pos_hint: {"x": 0.35}
			text: "Powrot"
			on_press: parent.GetBack()
</AccountSettingsScreen>

<ChangeLoginScreen>
	name: "zmiana loginu"

	newlog: newlog
	newlog2: newlog2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent

	GridLayout:
		rows: 3
		cols: 2
		Label: 
			text: "Nowy login: "
		TextInput:
			id: newlog
			text: ""
			multiline: False
		Label:
			text: "Powtorz: "
		TextInput:
			id: newlog2
			text: ""
			multiline: False
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button: 
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewLogin()
</ChangeLoginScreen>

<ChangePwdScreen>
	name: "zmiana hasla"
	oldpwd: oldpwd
	newpwd: newpwd
	newpwd2: newpwd2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent

	GridLayout:
		rows: 4
		cols: 2
		Label:
			text: "Stare haslo:"
		TextInput:
			id: oldpwd
			text: ""
			multiline: False
			password: True
		Label: 
			text: "Nowe haslo: "
		TextInput:
			id: newpwd
			text: ""
			multiline: False
			password: True
		Label:
			text: "Powtorz: "
		TextInput:
			id: newpwd2
			text: ""
			multiline: False
			password: True
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button: 
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewPwd()
</ChangePwdScreen>
	
<ChangeNameScreen>
	name: "zmiana imienia"
	newname: newname
	newname2: newname2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent
	
	GridLayout:
		cols: 2
		rows: 3
		
		Label:
			text: "Nowe imie"
		TextInput:
			id: newname
			text: ""
			multiline: False
		Label:
			text: "Powtorz"
		TextInput:
			id: newname2
			text: ""
			multiline: False
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewName()
		
</ChangeNameScreen>

<ChangeSnameScreen>
	name: "zmiana nazwiska"
	newsname: newsname
	newsname2: newsname2
	bckbtn: bckbtn
	accbtn: accbtn

	id: parent

	GridLayout:
		cols: 2
		rows: 3

		Label:
			text: "Nowe nazwisko"
		TextInput:
			id: newsname
			text: ""
			multiline: False
		Label:
			text: "Powtorz"
		TextInput:
			id: newsname2
			text: ""
			multiline: False
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewSname()
</ChangeSnameScreen>

<ChangeDepScreen>
	name: "zmiana dzialu"
	bckbtn: bckbtn
	depsel: depsel
	id: parent

	
	GridLayout:
		cols: 2
		rows: 2
		Label:
			text: "Nowy dzial: "
		Spinner:
			id: depsel
			text: "Wybierz dzial"
			values: parent.departments 
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewDep()
</ChangeDepScreen>

<ChangeRigScreen>
	name: "zmiana uprawnien"
	bckbtn: bckbtn
	rigsel: rigsel
	id: parent

	
	GridLayout:
		cols: 2
		rows: 2
		Label:
			text: "Nowe uprawnienia: "
		Spinner:
			id: rigsel
			text: "Wybierz uprawnienia"
			values: parent.rights			
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		Button:
			id: accbtn
			text: "Zatwierdz"
			on_press: parent.SubmitNewRig()
</ChangeRigScreen>

<ChooseUserScreen>
	name: "wybierz uzytkownika"
	usrlst: usrlst
	bckbtn: bckbtn
	delbtn: delbtn
	modbtn: modbtn
	addbtn: addbtn
	id: parent

	BoxLayout:
		orientation: 'vertical'
		spacing:0
		
		UserList:
			id: usrlst
		
		GridLayout:
			cols: 2
			rows: 2
			Button:
				id: delbtn
				text: "Usun uzytkownika"
				on_press: parent.GetToDel()
			Button:
				id: modbtn
				text: "Modyfikuj dane"
				on_press: parent.GetToMod()
			Button:
				id: addbtn
				text: "Dodaj uzytkownika"
				on_press: parent.GetToAdd()
			Button:
				id: bckbtn
				text: "Powrot"
				on_press: parent.GetBack()
	

</ChooseUserScreen>

<SelectableLabel>
	canvas.before:
		Color:
			rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
		Rectangle:
			pos: self.pos
			size: self.size
</SelectableLabel>

<UserList>
	viewclass:'SelectableLabel'
	SelectableRecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: False
        touch_multiselect: False
</UserList>

<AddUserScreen>
	name: "dodaj uzytkownika"
	confbtn: confbtn
	bckbtn: bckbtn
	newname: newname
	newsname: newsname
	newlogin: newlogin
	newpwd: newpwd
	newpwd2: newpwd2
	depsel: depsel
	rigsel: rigsel
	
	id: parent

	BoxLayout:
		orientation: "vertical"
		spacing: 10

		GridLayout:
			cols: 2
			rows: 8

			Label:
				text: "Imie"
			TextInput:
				id: newname
				multiline: False
				text: ""
				
			Label:
				text: "Nazwisko"
			TextInput:
				id: newsname
				multiline: False
				text: ""
				
			Label:
				text: "Login"
			TextInput:
				id: newlogin
				multiline: False
				text: ""	
				
			Label:
				text: "Haslo"
			TextInput:
				id: newpwd
				multiline: False
				password: True
				text: ""
				
			Label:
				text: "Powtorz haslo"
			TextInput:
				id: newpwd2
				multiline: False
				password: True
				text: ""	
			
			Label:
				text: "Dzial"
			Spinner:
				id: depsel
				text: "wybierz dzial"
				values: parent.departments
				
			Label:
				text: "Uprawnienia"
			Spinner:
				id: rigsel
				text: "wybierz uprawnienia"
				values: parent.rights

				
			Button:
				text: "Zatwierdz"
				id: confbtn
				on_press: parent.SubmitNewUsr()
			
			Button:
				text: "Powrot"
				id: bckbtn
				on_press: parent.GetBack()

</AddUserScreen>

<DeleteUserScreen>
	name: "usun uzytkownika"
	nobtn: nobtn
	yesbtn: yesbtn
	usrcont: usrcont
	id: parent

	GridLayout:
		cols: 2
		rows: 2
		Label:
			text: "Usuwasz uzytkownika:"
		Label:
			id: usrcont	
			text: "None"
		Button:
			id: yesbtn
			text: "Zatwierdz"
			size_hint: (1, 0.5)
			on_press: parent.SubmitDeletion()
		Button:
			id: nobtn
			text: "Anuluj"
			size_hint: (1, 0.5)
			on_press: parent.GetBack()
	
</DeleteUserScreen>

<ManageEquipScreen>
	name: "zarzadzaj sprzetem"
	typesel: typesel
	kindsel: kindsel
	srch: srch
	srchbtn: srchbtn
	eqplst: eqplst
	addusbtn: addusbtn
	addunusbtn: addunusbtn
	adduskdbtn: adduskdbtn
	addunuskdbtn: addunuskdbtn
	deluskdbtn: deluskdbtn
	delunuskdbtn: delunuskdbtn
	advbtn: advbtn
	delbtn: delbtn
	modbtn: modbtn
	bckbtn: bckbtn
	
	id: parent

	BoxLayout:
		orientation: "horizontal"
		spacing: 0
		
		BoxLayout:
			orientation: "vertical"
			spacing: 0
					
			GridLayout:
				cols: 2
				rows: 2
			
				Spinner:
					id: typesel
					text: "Wybierz typ"
					values: ["Wybierz typ","sprzety zuzywalne", "sprzety niezuzywalne"]
				Spinner:
					id: kindsel
					text: "Wybierz rodzaj"	
					values: parent.kind
				TextInput:
					id: srch
					multiline: False
					text: ""
				Button:
					id: srchbtn
					text: "Szukaj"
						
			EqpList:
				id: eqplst
			
		GridLayout:
			cols: 1
			rows: 10
			Button:
				id: addusbtn
				text: "Dodaj sprzet zuzywalny"
				on_press: parent.GetToAddUs()
			Button:
				id: addunusbtn
				text: "Dodaj sprzet niezuzywalny"
				on_press: parent.GetToAddUnUs()
			Button:
				id: adduskdbtn
				text: "Dodaj rodzaj sprzetu zuzywalnego"
				on_press: parent.GetToAddUsKind()
			Button:
				id: addunuskdbtn
				text: "Dodaj rodzaj sprzetu niezuzywalnego"
				on_press: parent.GetToAddUnUsKind()
			Button:
				id: deluskdbtn
				text: "Usun rodzaj sprzetu zuzywalnego"
				on_press: parent.GetToDelUsKind()
			Button:
				id: delunuskdbtn
				text: "Usun rodzaj sprzetu nz"
			Button:
				id: advbtn
				text: "Zaawansowane"	
				on_press: parent.GetToAdv()
			Button:
				id: delbtn
				text: "Usun sprzet"
			Button:
				id: modbtn
				text: "Modyfikuj sprzet"
			Button:
				id: bckbtn
				text: "Powrot"	
				on_press: parent.GetBack()
	

</ManageEquipScreen>

<EqpList>
	viewclass:'SelectableLabel'
	SelectableRecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: False
        touch_multiselect: False
</EqpList>

<AddUsableEqpScreen>
	name: "dodaj sprzet zuzywalny"
	eqpname: eqpname
	amount: amount
	kindsel: kindsel
	bckbtn: bckbtn
	confbtn: confbtn
	
	id: parent
	
	GridLayout:
		cols: 2
		rows: 4
		
		Label:
			text: "Nazwa"
		TextInput:
			id: eqpname
			multiline: False
			text: ""
			
		Label:
			text: "Ilosc"
		TextInput:
			id: amount
			multiline: False
			text: ""
			
		Label: 
			text: "Rodzaj"
		Spinner:
			id: kindsel
			values: parent.kind
			text: "Wybierz rodzaj"
			
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		
		Button:
			id: confbtn
			text: "Zatwierdz"
			on_press: parent.SubmitAdding()
			
</AddUsableEqpScreen>	

<AddUnUsableEqpScreen>
	name: "dodaj sprzet niezuzywalny"
	eqpname: eqpname
	kindsel: kindsel
	bckbtn: bckbtn
	confbtn: confbtn
	
	id: parent
	
	GridLayout:
		cols: 2
		rows: 3
		
		Label:
			text: "Nazwa"
		TextInput:
			id: eqpname
			multiline: False
			text: ""
			
		Label: 
			text: "Rodzaj"
		Spinner:
			id: kindsel
			values: parent.kind
			text: "Wybierz rodzaj"
			
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		
		Button:
			id: confbtn
			text: "Zatwierdz"
			on_press: parent.SubmitAdding()
			
</AddUnUsableEqpScreen>	

<AddUsableEqpKindScreen>
	name: "dodaj rodzaj sprzetu zuzywalnego"
	kindname: kindname
	bckbtn: bckbtn
	confbtn: confbtn
	
	id: parent
	
	GridLayout:
		cols: 2
		rows: 2
		
		Label:
			text: "Nazwa rodzaju"
		TextInput:
			id: kindname
			multiline: False
			text: ""
			
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		
		Button:
			id: confbtn
			text: "Zatwierdz"
			on_press: parent.SubmitAdding()
			
</AddUsableEqpKindScreen>

<AddUnUsableEqpKindScreen>
	name: "dodaj rodzaj sprzetu niezuzywalnego"
	kindname: kindname
	maxbor: maxbor
	bckbtn: bckbtn
	confbtn: confbtn
	
	id: parent
	
	GridLayout:
		cols: 2
		rows: 3
		
		Label:
			text: "Nazwa rodzaju"
		TextInput:
			id: kindname
			multiline: False
			text: ""
		
		Label:
			text: "Maksymalne wypozyczenie (w dniach)"
		TextInput:
			id: maxbor
			multiline: False
			text: ""
			
		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()
		
		Button:
			id: confbtn
			text: "Zatwierdz"
			on_press: parent.SubmitAdding()
			
</AddUnUsableEqpKindScreen>

<AdvancedEqpScreen>
	name: "zaawansowane zarzadzanie sprzetem"
	debtusrbtn: debtusrbtn
	unreturneqpbtn: unreturneqpbtn
	unavaileqpbtn: unavaileqpbtn
	bckbtn: bckbtn

	id: parent

	GridLayout:
		cols: 1
		rows: 4
		
		Button:
			id: debtusrbtn
			text: "Uzytkownicy zadluzeni"
					
		Button:
			id: unreturneqpbtn
			text: "Niezwrocony sprzet niezuzywalny"
		
		Button:
			id: unavaileqpbtn
			text: "Niedostepny sprzet zuzywalny"	

		Button:
			id: bckbtn
			text: "Powrot"
			on_press: parent.GetBack()


</AdvancedEqpScreen>

<DeleteUsKindScreen>
	name: "usun rodzaj sprzetu zuzywalnego"
	uskindlst: uskindlst
	delbtn: delbtn 
	bckbtn: bckbtn

	id: parent

	BoxLayout:
		orientation: "vertical"
		spacing: 0
		
		UsKindList:
			id: uskindlst
		
		GridLayout:
			cols: 2
			rows: 1
		
			Button:
				id: delbtn
				text: "Usun"
				on_press: parent.GetToDel()
					
			Button:
				id: bckbtn
				text: "Powrot"
				on_press: parent.GetBack()
		

</DeleteUsKindScreen>

<ConfirmDeleteUsKindScreen>
	name: "potwierdz usuniecie rodzaju sprzetu zuzywalnego"
	confbtn: confbtn 
	bckbtn: bckbtn
	kindcont: kindcont

	id: parent

	GridLayout:
		cols: 2
		rows: 2
		Label:
			text: "Usuwasz rodzaj:"
		Label:
			id: kindcont	
			text: ""
		Button:
			id: confbtn
			text: "Zatwierdz"
			on_press: parent.SubmitDeletion()
		Button:
			id: bckbtn
			text: "Anuluj"
			on_press: parent.GetBack()
		

</ConfirmDeleteUsKindScreen>

<UsKindList>
	viewclass:'SelectableLabel'
	SelectableRecycleBoxLayout:
		default_size: None, dp(56)
		default_size_hint: 1, None
		size_hint_y: None
		height: self.minimum_height
		orientation: 'vertical'
		multiselect: False
		touch_multiselect: False
</UsKindList>